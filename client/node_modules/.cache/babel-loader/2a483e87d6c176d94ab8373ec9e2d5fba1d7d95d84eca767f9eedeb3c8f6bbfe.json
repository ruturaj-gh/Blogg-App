{"ast":null,"code":"import{useState,useEffect,useContext}from\"react\";import{Link,redirect,Navigate}from\"react-router-dom\";import{UserContext}from\"../UserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Headers(){var _useContext=useContext(UserContext),setUserInfo=_useContext.setUserInfo,userInfo=_useContext.userInfo;useEffect(function(){fetch('http://localhost:4000/profile',{credentials:'include'}).then(function(response){response.json().then(function(userInfo){setUserInfo(userInfo);});});},[]);function logout(){fetch(\"http://localhost:4000/logout\",{credentials:\"include\",method:\"POST\"});setUserInfo(null);};var username=userInfo&&userInfo.username;return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"logo\",children:\"Blog\"}),/*#__PURE__*/_jsxs(\"nav\",{children:[username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/create\",children:\"Create new Post\"}),/*#__PURE__*/_jsx(\"a\",{onClick:logout,children:\"Logout\"})]}),!username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]})]})]});}","map":{"version":3,"names":["useState","useEffect","useContext","Link","redirect","Navigate","UserContext","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Headers","_useContext","setUserInfo","userInfo","fetch","credentials","then","response","json","logout","method","username","children","to","className","onClick"],"sources":["C:/Users/HP/Documents/Project/client/src/components/Headers.js"],"sourcesContent":["import { useState, useEffect, useContext } from \"react\";\r\n\r\nimport { Link, redirect,Navigate } from \"react-router-dom\";\r\nimport { UserContext } from \"../UserContext\";\r\nexport default function Headers() {\r\n  const {setUserInfo,userInfo} =useContext(UserContext)\r\n  \r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:4000/profile', {\r\n      credentials: 'include',\r\n    }).then(response => {\r\n      response.json().then(userInfo => {\r\n        setUserInfo(userInfo);\r\n      });\r\n    });\r\n  }, []);\r\n     \r\n\r\n  function logout() {\r\n    fetch(\"http://localhost:4000/logout\", {\r\n      credentials: \"include\",\r\n      method: \"POST\",\r\n    })\r\n    \r\n    setUserInfo(null);\r\n    \r\n  };\r\n  \r\n  const username = userInfo && userInfo.username;\r\n  \r\n\r\n  return (\r\n    <header>\r\n      <Link to=\"/\" className=\"logo\">\r\n        Blog\r\n      </Link>\r\n      <nav>\r\n        {username && (\r\n          \r\n          <>\r\n            <Link to=\"/create\">Create new Post</Link>\r\n            <a onClick={logout}>\r\n              Logout \r\n            </a>\r\n          </>\r\n        )}\r\n        {!username && (\r\n          <>\r\n          <Link to=\"/login\">Login</Link>\r\n          <Link to=\"/register\">Register</Link>\r\n          \r\n          </>\r\n        )}\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAEvD,OAASC,IAAI,CAAEC,QAAQ,CAACC,QAAQ,KAAQ,kBAAkB,CAC1D,OAASC,WAAW,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAC7C,cAAe,SAAS,CAAAC,OAAOA,CAAA,CAAG,CAChC,IAAAC,WAAA,CAA8BZ,UAAU,CAACI,WAAW,CAAC,CAA9CS,WAAW,CAAAD,WAAA,CAAXC,WAAW,CAACC,QAAQ,CAAAF,WAAA,CAARE,QAAQ,CAG3Bf,SAAS,CAAC,UAAM,CACdgB,KAAK,CAAC,+BAA+B,CAAE,CACrCC,WAAW,CAAE,SACf,CAAC,CAAC,CAACC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAClBA,QAAQ,CAACC,IAAI,EAAE,CAACF,IAAI,CAAC,SAAAH,QAAQ,CAAI,CAC/BD,WAAW,CAACC,QAAQ,CAAC,CACvB,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAGN,QAAS,CAAAM,MAAMA,CAAA,CAAG,CAChBL,KAAK,CAAC,8BAA8B,CAAE,CACpCC,WAAW,CAAE,SAAS,CACtBK,MAAM,CAAE,MACV,CAAC,CAAC,CAEFR,WAAW,CAAC,IAAI,CAAC,CAEnB,CAAC,CAED,GAAM,CAAAS,QAAQ,CAAGR,QAAQ,EAAIA,QAAQ,CAACQ,QAAQ,CAG9C,mBACEZ,KAAA,WAAAa,QAAA,eACEjB,IAAA,CAACL,IAAI,EAACuB,EAAE,CAAC,GAAG,CAACC,SAAS,CAAC,MAAM,CAAAF,QAAA,CAAC,MAE9B,EAAO,cACPb,KAAA,QAAAa,QAAA,EACGD,QAAQ,eAEPZ,KAAA,CAAAF,SAAA,EAAAe,QAAA,eACEjB,IAAA,CAACL,IAAI,EAACuB,EAAE,CAAC,SAAS,CAAAD,QAAA,CAAC,iBAAe,EAAO,cACzCjB,IAAA,MAAGoB,OAAO,CAAEN,MAAO,CAAAG,QAAA,CAAC,QAEpB,EAAI,GAEP,CACA,CAACD,QAAQ,eACRZ,KAAA,CAAAF,SAAA,EAAAe,QAAA,eACAjB,IAAA,CAACL,IAAI,EAACuB,EAAE,CAAC,QAAQ,CAAAD,QAAA,CAAC,OAAK,EAAO,cAC9BjB,IAAA,CAACL,IAAI,EAACuB,EAAE,CAAC,WAAW,CAAAD,QAAA,CAAC,UAAQ,EAAO,GAGrC,GACG,GACC,CAEb"},"metadata":{},"sourceType":"module","externalDependencies":[]}